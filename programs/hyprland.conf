# This is an example Hyprland config file.
# Refer to the wiki for more information.
# https://wiki.hyprland.org/Configuring/Configuring-Hyprland/

# Please note not all available settings / options are set here.
# For a full list, see the wiki

# You can split this configuration into multiple files
# Create your files separately and then link them to this file like this:
# source = ~/.config/hypr/myColors.conf

exec-once=sleep 2 && linux-wallpaperengine --screen-root DP-2 --silent --no-audio-processing 3172471800 --assets-dir /home/lain/Documents/assets --screen-root $(hyprctl monitors | grep Monitor | cut -d' ' -f2) --disable-mouse || wpaperd -d
exec-once=udiskie -a
exec-once=hyprnotify
exec-once=fcitx5-remote -r
exec-once=fcitx5 -d --replace
exec-once=fcitx5-remote -r
exec-once=systemctl --user start hyprpolkitagent
exec-once=~/.local/bin/bleep

################
### MONITORS ###
################

# See https://wiki.hyprland.org/Configuring/Monitors/
#monitor=DP-2, 2560x1440@165.00, 0x0, 1
#monitor=, preffered, auto, auto
#monitor=Unknown-1, disable

monitor=DP-2, 2560x1440@165.00, 0x0, 1
monitor=HDMI-A-1, 1920x1080@144.00, -1920x460, 1


###################
### MY PROGRAMS ###
###################

# See https://wiki.hyprland.org/Configuring/Keywords/

# Set programs that you use
$terminal = kitty
$fileManager = dolphin
$menu = wofi --show drun


#################
### AUTOSTART ###
#################

# Autostart necessary processes (like notifications daemons, status bars, etc.)
# Or execute your favorite apps at launch like this:

# exec-once = $terminal
# exec-once = nm-applet &
# exec-once = waybar & hyprpaper & firefox


#############################
### ENVIRONMENT VARIABLES ###
#############################

# See https://wiki.hyprland.org/Configuring/Environment-variables/

env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24

###############
### PLUGINS ###
###############

plugin {
}

#####################
### LOOK AND FEEL ###
#####################

# Refer to https://wiki.hyprland.org/Configuring/Variables/

# https://wiki.hyprland.org/Configuring/Variables/#general
general { 
	gaps_in = 5
	gaps_out = 20

	border_size = 2

	# https://wiki.hyprland.org/Configuring/Variables/#variable-types for info about colors
	col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
	col.inactive_border = rgba(595959aa)

	# Set to true enable resizing windows by clicking and dragging on borders and gaps
	resize_on_border = false 

	# Please see https://wiki.hyprland.org/Configuring/Tearing/ before you turn this on
	allow_tearing = false

	layout = dwindle
}

# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
	rounding = 10

	# Change transparency of focused and unfocused windows
	active_opacity = 1.0
	inactive_opacity = 1.0

	# https://wiki.hyprland.org/Configuring/Variables/#blur
	blur {
		enabled = true
		size = 3
		passes = 1
		
		vibrancy = 0.1696
	}
}

# https://wiki.hyprland.org/Configuring/Variables/#animations
animations {
	enabled = true

	# Default animations, see https://wiki.hyprland.org/Configuring/Animations/ for more

	bezier = myBezier, 0.05, 0.9, 0.1, 1.05

	animation = windows, 1, 7, myBezier
	animation = windowsOut, 1, 7, default, popin 80%
	animation = border, 1, 10, default
	animation = borderangle, 1, 8, default
	animation = fade, 1, 7, default
	animation = workspaces, 1, 6, default
}

# See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
dwindle {
	pseudotile = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
	preserve_split = true # You probably want this
	force_split = 2
}

# See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
master {
	new_status = master
	orientation = right
}

# https://wiki.hyprland.org/Configuring/Variables/#misc
misc { 
	force_default_wallpaper = -1 # Set to 0 or 1 to disable the anime mascot wallpapers
	disable_hyprland_logo = false # If true disables the random hyprland logo / anime girl background. :(
	enable_swallow = true
	swallow_regex = "^(kitty)$"
}


#############
### INPUT ###
#############

input {
	kb_layout = ro
	kb_variant = 
	kb_options = altwin:swap_lalt_lwin # This swaps Caps Lock and Escape, and swaps Left Super and Left Alt
	kb_rules =

	follow_mouse = 1

	sensitivity = -0.1 # -1.0 - 1.0, 0 means no modification.

	repeat_delay = 300
	repeat_rate = 50

	touchpad {
		natural_scroll = false
		middle_button_emulation = true
		clickfinger_behavior = 1
	}
}

device {
	name = sem-usb-keyboard 
	kb_options = altwin:swap_lalt_lwin,caps:swapescape
}


# https://wiki.hyprland.org/Configuring/Variables/#gestures
gestures {
	workspace_swipe = false
}

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#per-device-input-configs for more
device {
	name = epic-mouse-v1
	sensitivity = -0.5
}

device {
	name = kensington-orbit-wireless-tb-mouse
	middle_button_emulation = true
}

device {
	name = wacom-intuos-pro-s-pen
	transform = 0
	output = DP-2
	sensitivity = 2
}

####################
### KEYBINDINGS ###
####################

binds {
	workspace_back_and_forth = false
	scroll_event_delay = 0
}

# See https://wiki.hyprland.org/Configuring/Keywords/
$mainMod = SUPER # Sets "Windows" key as main modifier

# Focus windows with mainMod + HJKL
bind = $mainMod, H, movefocus, l
bind = $mainMod, J, movefocus, d
bind = $mainMod, K, movefocus, u
bind = $mainMod, L, movefocus, r

# Move windows with mainMod + SHIFT + HJKL
bind = $mainMod SHIFT, H, movewindow, l
bind = $mainMod SHIFT, J, movewindow, d
bind = $mainMod SHIFT, K, movewindow, u
bind = $mainMod SHIFT, L, movewindow, r

# Preselect windows with mainMod + CTRL + HJKL
bind = $mainMod CTRL, H, layoutmsg, preselect l
bind = $mainMod CTRL, J, layoutmsg, preselect d
bind = $mainMod CTRL, K, layoutmsg, preselect u
bind = $mainMod CTRL, L, layoutmsg, preselect r

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

bind = $mainMod, TAB, focuscurrentorlast

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

bind = $mainMod, D, exec, wofi --show drun --allow-images
bind = $mainMod, SPACE, exec, $terminal

# Close active application with mainMod + Q
bind = $mainMod, Q, killactive,

# Force close active application with mainMod + SHIFT + Q
bind = $mainMod SHIFT, Q, exec, kill -9 $(xdotool getwindowpid $(xdotool getwindowfocus))

# Quit Hyprland with mainMod + CTRL + SHIFT + Q
bind = $mainMod CTRL SHIFT, Q, exit,

# Open special workspace with mainMod + S
bind = $mainMod, S, togglespecialworkspace, magic

# Move window to special workspace with mainMod + SHIFT + S
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# Toggle window stickiness with mainMod + SHIFT + P
bind = $mainMod SHIFT, P, pin

# Toggle float or tile with mainMod + F
bind = $mainMod, F, togglefloating,

# Toggle pseudotiling with mainMod + SHIFT + F
bind = $mainMod SHIFT, F, pseudo,

bind = $mainMod CTRL, F, fullscreen,

# Change window split direction with mainMod + G (similar to J toggle)
bind = $mainMod, G, togglesplit,

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

bind = , PRINT, exec, mkdir -p ~/Pictures/Screenshots ; hyprshot -m output -o ~/Pictures/Screenshots
bind = $mainMod, PRINT, exec, mkdir -p ~/Pictures/Screenshots ; hyprshot -m window -o ~/Pictures/Screenshots
bind = $mainMod CTRL, PRINT, exec, mkdir -p ~/Pictures/Screenshots ; hyprshot -z -m region -o ~/Pictures/Screenshots

# Volume Control
bindl = , XF86AudioRaiseVolume, exec, swayosd-client --output-volume +5
bindl = , XF86AudioLowerVolume, exec, swayosd-client --output-volume -5
bindl = , XF86AudioMute, exec, swayosd-client --output-volume mute-toggle

bindl = $mainMod, mouse_down, exec, swayosd-client --output-volume +1
bindl = $mainMod, mouse_up, exec, swayosd-client --output-volume -1

# Media Control
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPrev, exec, playerctl previous
bindl = , XF86AudioStop, exec, playerctl stop

bind = $mainMod SHIFT, d, exec, notify-send "$(date)"

##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/ for workspace rules

# Example windowrule v1
# windowrule = float, ^(kitty)$

# Example windowrule v2
# windowrulev2 = float,class:^(kitty)$,title:^(kitty)$

windowrulev2 = suppressevent maximize, class:.* # You'll probably like this.

## UNITY SHAITE

#Tooltips stealing focus
#windowrulev2 = nofocus, class:^(Unity)$, title:^()$
#This causes Build Settings and some other windows to not get focused
#Workaround is to open the unresponsive window and reopen Unity

#Certain windows need a min size due to this issue: https://discussions.unity.com/t/engine-menus-can-only-be-opened-once/1521080/3
windowrulev2 = minsize 250 250, class:^(Unity)$, title:^(Project Settings)$
windowrulev2 = minsize 250 250, class:^(Unity)$, title:^(Preferences)$
windowrulev2 = minsize 250 250, class:^(Unity)$, title:^(UnityEditor.AddComponent.AddComponentWindow)$
windowrulev2 = minsize 250 250, class:^(Unity)$, title:^(Package Manager)$
windowrulev2 = minsize 250 250, class:^(Unity)$, title:^(UI Toolkit Debugger)$
windowrulev2 = minsize 250 500, class:^(Unity)$, title:^(Font Asset Creator)$
windowrulev2 = minsize 500 250, class:^(Unity)$, title:^(Background Tasks)$

windowrulev2 = nofocus, class:(krita), title:^Krita$, floating:1

#Open at cursor position
#windowrulev2 = move cursor, class:^(Unity)$ #Enable if you want literally everything to be moved to cursor pos(has downsides)

#Color Picker
windowrulev2 = move cursor, class:^(Unity)$, title:^(Color)$
windowrulev2 = move cursor, class:^(Unity)$, title:^(HDR Color)$

workspace = 1, monitor:DP-2
workspace = 2, monitor:DP-2
workspace = 3, monitor:DP-2
workspace = 4, monitor:DP-2
workspace = 5, monitor:DP-2
workspace = 6, monitor:DP-2
workspace = 7, monitor:DP-2
workspace = 8, monitor:DP-2
workspace = 9, monitor:DP-2
workspace = 10, monitor:DP-2
workspace = 11, monitor:HDMI-A-1

